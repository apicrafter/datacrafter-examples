version: 1
project-id: ae0cd7af-cf5e-4d1b-800a-fb9e6460a61b
project-name: fnspaytax

extractor:
  type: file-zip
  method: urlbypattern
  mode: singlefile
  config:
    prefix: https://www.nalog.ru/opendata/7707329152-paytax/
    data_prefix: https://data.nalog.ru/opendata/7707329152-paytax/data-

processor:
  config:
    type: zipxml
    tagname: Документ
  keymap:
    type: names
    fields:
      НаимОрг: orgname
      ИННЮЛ: inn
      СведНП: org
      СвУплСумНал: taxinfo
      СумУплНал: taxsumm
      НаимНалог: taxname
      ИдДок: id
      ДатаДок: date_doc
      ДатаСост: date_formed
  typemap:
#    taxinfo.taxsumm: float
    date_formed: datetime
    date_doc: datetime

destination:
  type: file-bson
  compress: xz
  storage: local
  fileprefix: reestrgp

